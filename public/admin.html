<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Admin Panel - Ai-Maize-ing Nachos</title>
<link rel="stylesheet" href="admin.css">

<script src="sync-products.js"></script>
<script src="api-service.js"></script>

</head>
<body class="admin-page">

<header class="admin-header">
  <h1>üéõÔ∏è Business Control Center</h1>
  <div class="admin-user-info">
    <span id="admin-username">Admin</span>
    <button class="action-btn danger" onclick="logoutAdmin()">
      <i class="fas fa-sign-out-alt"></i> Logout
    </button>
  </div>
</header>

<nav class="admin-nav">
  <button class="admin-nav-btn active" onclick="showSection('dashboard')">
    <i class="fas fa-tachometer-alt"></i> Dashboard
  </button>
  <button class="admin-nav-btn" onclick="showSection('products')">
    <i class="fas fa-boxes"></i> All Products
  </button>
  <button class="admin-nav-btn" onclick="showSection('availability')">
    <i class="fas fa-toggle-on"></i> Availability
  </button>
  <button class="admin-nav-btn" onclick="showSection('slideshow')">
    <i class="fas fa-images"></i> Slideshow
  </button>
  <button class="admin-nav-btn" onclick="showSection('orders')">
    <i class="fas fa-shopping-cart"></i> Orders
  </button>
</nav>

<div class="admin-sections">

  <!-- üìä DASHBOARD -->
  <section id="dashboard" class="admin-section active">
    <div class="admin-section-header">
      <h2><i class="fas fa-tachometer-alt"></i> Dashboard Overview</h2>
      <p>Complete overview of your business</p>
    </div>
    <div class="dashboard-stats" id="dashboard-stats">
      <!-- Stats will be loaded here -->
    </div>
    
    <div class="dashboard-content">
      <div class="dashboard-card">
        <h3><i class="fas fa-chart-line"></i> Quick Actions</h3>
        <div class="quick-actions">
          <button class="action-btn primary" onclick="openProductModal()">
            <i class="fas fa-plus"></i> Add New Product
          </button>
          <button class="action-btn success" onclick="showSection('availability')">
            <i class="fas fa-toggle-on"></i> Manage Availability
          </button>
          <button class="action-btn info" onclick="showSection('orders')">
            <i class="fas fa-shopping-cart"></i> View Orders
          </button>
          <button class="action-btn warning" onclick="exportAllData()">
            <i class="fas fa-download"></i> Backup Data
          </button>
        </div>
      </div>
      
      <div class="dashboard-card">
        <h3><i class="fas fa-exclamation-circle"></i> Recent Alerts</h3>
        <div id="recent-alerts" class="alerts-list">
          <!-- Alerts will be loaded here -->
        </div>
      </div>
    </div>
  </section>

  <!-- üì¶ ALL PRODUCTS MANAGER -->
  <section id="products" class="admin-section">
    <div class="admin-section-header">
      <h2><i class="fas fa-boxes"></i> All Products Manager</h2>
      <p>Manage all menu items across all categories</p>
    </div>
    
    <div class="product-actions">
      <button class="action-btn primary" onclick="openProductModal()">
        <i class="fas fa-plus"></i> Add New Product
      </button>
      <button class="action-btn success" onclick="exportProducts()">
        <i class="fas fa-file-export"></i> Export Products
      </button>
      <button class="action-btn info" onclick="importProducts()">
        <i class="fas fa-file-import"></i> Import Products
      </button>
      <button class="action-btn warning" onclick="resetToDefault()">
        <i class="fas fa-redo"></i> Reset to Default
      </button>
      <button class="action-btn danger" onclick="deleteAllProducts()">
        <i class="fas fa-trash"></i> Delete All
      </button>
    </div>
    
    <div class="products-filters">
      <input type="text" id="product-search" placeholder="Search products..." onkeyup="filterProducts()">
      <select id="category-filter" onchange="filterProducts()">
        <option value="all">All Categories</option>
        <option value="nachos">Nachos</option>
        <option value="desserts">Desserts</option>
        <option value="drinks">Drinks</option>
        <option value="specials">Specials</option>
      </select>
      <select id="availability-filter" onchange="filterProducts()">
        <option value="all">All Status</option>
        <option value="available">Available Only</option>
        <option value="unavailable">Unavailable Only</option>
      </select>
    </div>
    
    <div id="product-list" class="products-container">
      <!-- Products will be loaded here -->
    </div>
  </section>

  <!-- üü¢ AVAILABILITY CONTROL -->
  <section id="availability" class="admin-section">
    <div class="admin-section-header">
      <h2><i class="fas fa-toggle-on"></i> Availability Control</h2>
      <p>Enable/disable items for customers</p>
    </div>
    
    <div class="availability-actions">
      <button class="action-btn success" onclick="enableAllItems()">
        <i class="fas fa-check-circle"></i> Enable All
      </button>
      <button class="action-btn danger" onclick="disableAllItems()">
        <i class="fas fa-times-circle"></i> Disable All
      </button>
      <button class="action-btn info" onclick="saveAvailability()">
        <i class="fas fa-save"></i> Save Changes
      </button>
    </div>
    
    <div class="availability-container">
      <table id="availability-table" class="availability-table">
        <!-- Availability table will be loaded here -->
      </table>
    </div>
  </section>

  <!-- üñºÔ∏è SLIDESHOW MANAGER -->
  <section id="slideshow" class="admin-section">
    <div class="admin-section-header">
      <h2><i class="fas fa-images"></i> Homepage Slideshow</h2>
      <p>Manage slides displayed on the homepage</p>
    </div>
    
    <div class="slideshow-actions">
      <button class="action-btn success" onclick="addSlide()">
        <i class="fas fa-plus"></i> Add New Slide
      </button>
      <button class="action-btn warning" onclick="reorderSlides()">
        <i class="fas fa-sort"></i> Reorder Slides
      </button>
      <button class="action-btn info" onclick="previewSlideshow()">
        <i class="fas fa-eye"></i> Preview
      </button>
    </div>
    
    <div id="slide-list" class="slideshow-current">
      <!-- Slides will be loaded here -->
    </div>
  </section>

  <!-- üì¶ ORDERS MANAGEMENT -->
  <section id="orders" class="admin-section">
    <div class="admin-section-header">
      <h2><i class="fas fa-shopping-cart"></i> Orders Management</h2>
      <p>View and manage customer orders</p>
    </div>
    
    <div class="orders-filters">
      <input type="text" id="order-search" placeholder="Search orders...">
      <select id="order-status-filter">
        <option value="all">All Status</option>
        <option value="pending">Pending</option>
        <option value="confirmed">Confirmed</option>
        <option value="preparing">Preparing</option>
        <option value="ready">Ready for Pickup</option>
        <option value="completed">Completed</option>
        <option value="cancelled">Cancelled</option>
      </select>
      <input type="date" id="order-date-filter">
    </div>
    
    <div id="orders-list" class="orders-container">
      <!-- Orders will be loaded here -->
    </div>
  </section>

</div>

<!-- üìå PRODUCT MODAL -->
<div id="product-modal" class="modal-overlay">
  <div class="modal-content">
    <h2 id="modal-title"><i class="fas fa-plus"></i> Add New Product</h2>
    
    <div class="form-group">
      <label for="p-name"><i class="fas fa-tag"></i> Product Name *</label>
      <input type="text" id="p-name" placeholder="Enter product name" required>
    </div>
    
    <div class="form-group">
      <label for="p-price"><i class="fas fa-money-bill"></i> Price *</label>
      <input type="number" id="p-price" placeholder="0.00" step="0.01" min="0" required>
    </div>
    
    <div class="form-group">
      <label for="p-category"><i class="fas fa-folder"></i> Category *</label>
      <select id="p-category" required>
        <option value="nachos">üåÆ Nachos</option>
        <option value="desserts">üç∞ Desserts</option>
        <option value="drinks">ü•§ Drinks</option>
        <option value="specials">‚≠ê Specials</option>
      </select>
    </div>
    
    <div class="form-group">
      <label for="p-image"><i class="fas fa-image"></i> Image URL</label>
      <input type="text" id="p-image" placeholder="https://example.com/image.jpg">
      <small>Leave empty to use default image</small>
    </div>
    
    <div class="form-group">
      <label for="p-desc"><i class="fas fa-align-left"></i> Description</label>
      <textarea id="p-desc" placeholder="Enter product description..." rows="3"></textarea>
    </div>
    
    <div class="form-group">
      <label for="p-ingredients"><i class="fas fa-list"></i> Ingredients</label>
      <textarea id="p-ingredients" placeholder="List ingredients separated by commas..." rows="2"></textarea>
    </div>
    
    <div class="form-group checkbox-group">
      <input type="checkbox" id="p-avail" checked>
      <label for="p-avail">Available for purchase</label>
    </div>
    
    <div class="form-group checkbox-group">
      <input type="checkbox" id="p-featured">
      <label for="p-featured">Featured item (show on homepage)</label>
    </div>
    
    <div class="modal-actions">
      <button class="action-btn primary" onclick="saveProduct()">
        <i class="fas fa-save"></i> Save Product
      </button>
      <button class="action-btn danger" onclick="closeProductModal()">
        <i class="fas fa-times"></i> Cancel
      </button>
    </div>
  </div>
</div>

<!-- üìå SLIDE MODAL -->
<div id="slide-modal" class="modal-overlay">
  <div class="modal-content">
    <h2 id="slide-modal-title"><i class="fas fa-image"></i> Add Slide</h2>
    
    <div class="form-group">
      <label for="slide-title"><i class="fas fa-heading"></i> Slide Title *</label>
      <input type="text" id="slide-title" placeholder="Enter slide title" required>
    </div>
    
    <div class="form-group">
      <label for="slide-description"><i class="fas fa-align-left"></i> Description</label>
      <textarea id="slide-description" placeholder="Enter slide description..." rows="2"></textarea>
    </div>
    
    <div class="form-group">
      <label for="slide-image"><i class="fas fa-image"></i> Image URL *</label>
      <input type="text" id="slide-image" placeholder="https://example.com/image.jpg" required>
    </div>
    
    <div class="form-group">
      <label for="slide-order"><i class="fas fa-sort-numeric-down"></i> Display Order</label>
      <input type="number" id="slide-order" placeholder="1" min="1" value="1">
    </div>
    
    <div class="form-group checkbox-group">
      <input type="checkbox" id="slide-active" checked>
      <label for="slide-active">Active (show on homepage)</label>
    </div>
    
    <div class="form-group checkbox-group">
      <input type="checkbox" id="slide-promo">
      <label for="slide-promo">Show promotion badge</label>
    </div>
    
    <div class="form-group" id="promo-badge-group" style="display: none;">
      <label for="slide-promo-text"><i class="fas fa-badge"></i> Badge Text</label>
      <input type="text" id="slide-promo-text" placeholder="e.g., NEW, 20% OFF">
    </div>
    
    <div class="modal-actions">
      <button class="action-btn primary" onclick="saveSlide()">
        <i class="fas fa-save"></i> Save Slide
      </button>
      <button class="action-btn danger" onclick="closeSlideModal()">
        <i class="fas fa-times"></i> Cancel
      </button>
    </div>
  </div>
</div>

<!-- üìå ORDER DETAILS MODAL -->
<div id="order-modal" class="modal-overlay">
  <div class="modal-content wide-modal">
    <h2 id="order-modal-title"><i class="fas fa-receipt"></i> Order Details</h2>
    
    <div id="order-details-content">
      <!-- Order details will be loaded here -->
    </div>
    
    <div class="modal-actions">
      <button class="action-btn success" onclick="updateOrderStatus()">
        <i class="fas fa-check"></i> Update Status
      </button>
      <button class="action-btn danger" onclick="closeOrderModal()">
        <i class="fas fa-times"></i> Close
      </button>
    </div>
  </div>
</div>

<script src="admin-script.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
</body>
</html>