<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Ai-Maize-ing Nachos</title>
    <link rel="stylesheet" href="admin.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="admin-page">
    <!-- Admin Panel Header -->
    <div class="admin-header">
        <div class="admin-header-content">
            <h1 class="admin-panel-title">
                <i class="fas fa-user-shield"></i> Admin Panel
                <span id="admin-role-badge" class="admin-role-badge" style="display: none;"></span>
            </h1>
            <p>Manage your store, orders, and availability</p>
        </div>
        <div class="admin-header-actions">
            <button id="back-to-store" class="action-btn secondary">
                <i class="fas fa-store"></i> Back to Store
            </button>
            <button id="logout-btn" class="action-btn danger">
                <i class="fas fa-sign-out-alt"></i> Logout
            </button>
        </div>
    </div>

    <!-- Admin Navigation -->
    <div class="admin-nav">
        <button class="admin-nav-btn active" data-section="dashboard">
            <i class="fas fa-tachometer-alt"></i> Dashboard
        </button>
        <button class="admin-nav-btn" data-section="availability">
            <i class="fas fa-toggle-on"></i> Availability
        </button>
        <button class="admin-nav-btn" data-section="slideshow">
            <i class="fas fa-images"></i> Slideshow
        </button>
        <button class="admin-nav-btn" data-section="orders">
            <i class="fas fa-receipt"></i> Orders
        </button>
        <button class="admin-nav-btn" data-section="products">
            <i class="fas fa-boxes"></i> Manage Products
        </button>
    </div>

    <!-- Admin Sections Container -->
    <div class="admin-sections">
        
        <!-- Dashboard Section -->
        <div id="dashboard-section" class="admin-section active">
            <div class="admin-section-header">
                <h2><i class="fas fa-tachometer-alt"></i> Dashboard Overview</h2>
                <p>Store performance and recent activity</p>
            </div>
            
            <div class="dashboard-stats">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-shopping-cart"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="total-orders">0</h3>
                        <p>Total Orders</p>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-money-bill-wave"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="total-sales">₱0.00</h3>
                        <p>Total Sales</p>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-calendar-day"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="today-orders">0</h3>
                        <p>Today's Orders</p>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-wallet"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="today-sales">₱0.00</h3>
                        <p>Today's Sales</p>
                    </div>
                </div>
            </div>
            
            <!-- Sales Chart -->
            <div class="chart-container">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <h3 style="color: #8b4513; margin: 0;">Sales Overview</h3>
                    <span class="real-time-indicator">
                        <span class="pulse-dot"></span>
                        LIVE
                    </span>
                </div>
                <canvas id="sales-chart"></canvas>
            </div>
            
            <!-- Recent Orders -->
            <div class="recent-orders">
                <div class="recent-orders-header">
                    <h3>Recent Orders</h3>
                    <button id="view-all-orders" class="action-btn secondary">View All Orders</button>
                </div>
                <div id="recent-orders-list" class="recent-orders-list">
                    <div class="empty-state">
                        <i class="fas fa-shopping-cart"></i>
                        <h3>No Recent Orders</h3>
                        <p>Orders will appear here when customers place them</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Availability Section -->
        <div id="availability-section" class="admin-section">
            <div class="admin-section-header">
                <h2><i class="fas fa-toggle-on"></i> Item Availability</h2>
                <p>Control which items are available for ordering</p>
            </div>
            
            <div class="availability-container">
                <div class="availability-card">
                    <h3><i class="fas fa-utensils"></i> Nachos Menu</h3>
                    <div id="nachos-availability">
                        <!-- Nachos items will be loaded here -->
                    </div>
                </div>
                
                <div class="availability-card">
                    <h3><i class="fas fa-ice-cream"></i> Desserts</h3>
                    <div id="desserts-availability">
                        <!-- Dessert items will be loaded here -->
                    </div>
                </div>
            </div>
            
            <div class="availability-actions">
                <button id="reset-all-availability" class="action-btn primary">
                    <i class="fas fa-check-circle"></i> Mark All Available
                </button>
                <button id="toggle-all-availability" class="action-btn secondary">
                    <i class="fas fa-sync-alt"></i> Toggle All
                </button>
                <button id="save-availability" class="action-btn success">
                    <i class="fas fa-save"></i> Save Changes
                </button>
            </div>
        </div>
        
        <!-- Slideshow Section -->
        <div id="slideshow-section" class="admin-section">
            <div class="admin-section-header">
                <h2><i class="fas fa-images"></i> Homepage Slideshow</h2>
                <p>Manage the slideshow on the homepage</p>
            </div>
            
            <div class="slideshow-current">
                <h3>Current Active Slides</h3>
                <div id="slideshow-current" class="slideshow-list">
                    <!-- Active slides will be loaded here -->
                </div>
            </div>
            
            <div class="slideshow-actions">
                <button id="add-slide-btn" class="action-btn primary">
                    <i class="fas fa-plus"></i> Add New Slide
                </button>
                <button id="refresh-slideshow" class="action-btn secondary">
                    <i class="fas fa-sync-alt"></i> Refresh Slides
                </button>
                <button id="reorder-slides" class="action-btn success">
                    <i class="fas fa-sort-amount-down"></i> Reorder Slides
                </button>
            </div>
        </div>
        
        <!-- Orders Section -->
        <div id="orders-section" class="admin-section">
            <div class="admin-section-header">
                <h2><i class="fas fa-receipt"></i> All Orders <span class="real-time-indicator">LIVE</span></h2>
                <p>View and manage customer orders in real-time</p>
            </div>
            
            <div class="orders-controls">
                <select id="order-filter">
                    <option value="all">All Orders</option>
                    <option value="pending">Pending</option>
                    <option value="processing">Processing</option>
                    <option value="completed">Completed</option>
                    <option value="cancelled">Cancelled</option>
                </select>
                
                <input type="date" id="order-date">
                
                <input type="text" id="order-search" placeholder="Search by customer name, order ID...">
                
                <button id="export-orders" class="action-btn secondary">
                    <i class="fas fa-download"></i> Export
                </button>
                <button id="refresh-orders" class="action-btn primary">
                    <i class="fas fa-sync-alt"></i> Refresh
                </button>
            </div>
            
            <div class="orders-summary">
                <div class="summary-card">
                    <h3 id="summary-total">0</h3>
                    <p>Total Orders</p>
                </div>
                <div class="summary-card">
                    <h3 id="summary-pending">0</h3>
                    <p>Pending</p>
                </div>
                <div class="summary-card">
                    <h3 id="summary-processing">0</h3>
                    <p>Processing</p>
                </div>
                <div class="summary-card">
                    <h3 id="summary-completed">0</h3>
                    <p>Completed</p>
                </div>
                <div class="summary-card">
                    <h3 id="summary-cancelled">0</h3>
                    <p>Cancelled</p>
                </div>
            </div>
            
            <div class="orders-list" id="orders-list">
                <div class="empty-state">
                    <i class="fas fa-receipt"></i>
                    <h3>No Orders Yet</h3>
                    <p>Customer orders will appear here in real-time</p>
                </div>
            </div>
            
            <div id="orders-pagination" class="pagination">
                <!-- Pagination will be added here -->
            </div>
        </div>
        
        <!-- Products Section -->
        <div id="products-section" class="admin-section">
            <div class="admin-section-header">
                <h2><i class="fas fa-boxes"></i> Product Management</h2>
                <p>Add, edit, or remove menu items</p>
            </div>
            
            <div class="product-management-container">
                <div class="product-actions">
                    <button id="add-product-btn" class="action-btn primary">
                        <i class="fas fa-plus"></i> Add New Product
                    </button>
                    <button id="refresh-products" class="action-btn secondary">
                        <i class="fas fa-sync-alt"></i> Refresh Products
                    </button>
                </div>
                
                <div class="products-list" id="products-list">
                    <div class="empty-state">
                        <i class="fas fa-box-open"></i>
                        <h3>No Products Found</h3>
                        <p>Add your first product to get started</p>
                    </div>
                </div>
            </div>
        </div>
        
    </div>

    <!-- Custom Alert Modal -->
    <div id="custom-alert" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <p id="custom-alert-message"></p>
            <button id="custom-alert-ok" class="action-btn primary">OK</button>
        </div>
    </div>

    <!-- Add Product Modal -->
    <div id="add-product-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2 id="product-modal-title"><i class="fas fa-plus-circle"></i> Add New Product</h2>
            
            <div id="add-product-success" class="success-message"></div>
            
            <div class="form-group">
                <label for="product-name">Product Name *</label>
                <input type="text" id="product-name" placeholder="e.g., Supreme Nachos" required>
                <div class="error-message" id="name-error">Please enter a product name</div>
            </div>
            
            <div class="form-group">
                <label for="product-price">Price (₱) *</label>
                <input type="number" id="product-price" placeholder="e.g., 180" min="0" step="0.01" required>
                <div class="error-message" id="price-error">Please enter a valid price</div>
            </div>
            
            <div class="form-group">
                <label for="product-category">Category *</label>
                <select id="product-category" required>
                    <option value="">Select Category</option>
                    <option value="nachos">Nachos</option>
                    <option value="desserts">Desserts</option>
                </select>
                <div class="error-message" id="category-error">Please select a category</div>
            </div>
            
            <div class="form-group">
                <label for="product-description">Description</label>
                <textarea id="product-description" placeholder="Describe the product... (Optional)"></textarea>
            </div>
            
            <div class="form-group">
                <label for="product-image">Image URL</label>
                <input type="text" id="product-image" placeholder="e.g., /image/product.jpg">
                <div class="image-preview" id="image-preview">
                    <div class="image-preview-placeholder">
                        <i class="fas fa-image"></i>
                        <p>No image selected</p>
                    </div>
                </div>
            </div>
            
            <div class="form-check">
                <input type="checkbox" id="product-available" checked>
                <label for="product-available">Available for ordering</label>
            </div>
            
            <div class="modal-actions">
                <button id="save-product-btn" class="action-btn primary">
                    <i class="fas fa-save"></i> Save Product
                </button>
                <button id="cancel-add-product" class="action-btn secondary">
                    <i class="fas fa-times"></i> Cancel
                </button>
            </div>
        </div>
    </div>

    <!-- Order Details Modal -->
    <div id="order-details-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content" style="max-width: 600px;">
            <h2 id="order-modal-title">Order Details</h2>
            <div id="order-details-content">
                <!-- Order details will be loaded here -->
            </div>
            <div style="display: flex; gap: 10px; margin-top: 25px; justify-content: flex-end;">
                <button id="update-order-status" class="action-btn primary">Update Status</button>
                <button id="close-order-details" class="action-btn secondary">Close</button>
            </div>
        </div>
    </div>

    <!-- Load admin script -->
    <script src="admin-script.js"></script>
</body>
</html>